{
  "${TM_DIRECTORY}": {
    "prefix": ["sbac", "sb-api-crud"],
    "body": [
      "import { error, type RequestHandler } from '@sveltejs/kit'",
      "",
      "export const GET: RequestHandler = (async ({ locals, url }) => {",
      "   const ${1:profileId} = url.searchParams.get('${1:profileId}');",
      "   $2",
      "   const response = await locals.pocketBase.collection('${TM_DIRECTORY/(.*[\\\\])?([^\\\\]+)$/$2/}').getOne(${1:profileId}, { expand: '${3:expand}' });",
      "   if (response && response.code === 404) {",
      "     return error(response.message);",
      "   } else {",
      "     return new Response(JSON.stringify(response));",
      "   }",
      "}) ",
      "",
      "export const POST: RequestHandler = (async ({ locals, request }) => {",
      "   const { data } = await request?.json();",
      "   $2",
      "   const response = await locals.pocketBase.collection('${TM_DIRECTORY/(.*[\\\\])?([^\\\\]+)$/$2/}').create(data);",
      "   if (response && response.code === 404) {",
      "     return error(response.message);",
      "   } else {",
      "     return new Response(JSON.stringify(response));",
      "   }",
      "}) ",
      "",
      "export const PUT: RequestHandler = (async ({ locals, request }) => {",
      "   const { data } = await request?.json();",
      "   $2",
      "   const response = await locals.pocketBase.collection('${TM_DIRECTORY/(.*[\\\\])?([^\\\\]+)$/$2/}').update(data.id, data);",
      "   if (response && response.code === 404) {",
      "     return error(response.message);",
      "   } else {",
      "     return new Response(JSON.stringify(response));",
      "   }",
      "}) ",
      "",
      "export const DELETE: RequestHandler = (async ({ locals, request }) => {",
      "   const { data } = await request?.json();",
      "   $2",
      "   const response = await locals.pocketBase.collection('${TM_DIRECTORY/(.*[\\\\])?([^\\\\]+)$/$2/}').delete(data.id);",
      "   if (response && response.code === 404) {",
      "     return error(response.message);",
      "   } else {",
      "     return new Response(JSON.stringify(response));",
      "   }",
      "}) ",
      ""
    ],
    "description": "Svelte PocketBase CRUD"
  }
}
